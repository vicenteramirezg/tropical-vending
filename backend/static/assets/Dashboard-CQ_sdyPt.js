import{a as _}from"./api-DH-Hubz5.js";import{r,o as g,c as l,a as t,t as o,n as c,F as v,b as p,d as i}from"./index-BBPftpE0.js";const y={key:0,class:"flex justify-center"},f={key:1},h={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-6"},b={class:"bg-white overflow-hidden shadow rounded-lg"},w={class:"px-4 py-5 sm:p-6"},k={class:"mt-1 text-3xl font-semibold text-gray-900"},F={class:"bg-white overflow-hidden shadow rounded-lg"},D={class:"px-4 py-5 sm:p-6"},L={class:"mt-1 text-3xl font-semibold text-gray-900"},P={class:"bg-white overflow-hidden shadow rounded-lg"},T={class:"px-4 py-5 sm:p-6"},R={class:"mt-1 text-3xl font-semibold text-gray-900"},S={class:"bg-white overflow-hidden shadow rounded-lg"},j={class:"px-4 py-5 sm:p-6"},B={class:"mt-1 text-3xl font-semibold text-gray-900"},M={class:"bg-white shadow overflow-hidden sm:rounded-lg mb-6"},C={class:"px-4 py-5 sm:px-6 flex justify-between items-center"},E={class:"border-t border-gray-200"},N={key:0,class:"px-4 py-5 text-center text-gray-500"},$={key:1,role:"list",class:"divide-y divide-gray-200"},z={class:"flex items-center justify-between"},I={class:"text-sm font-medium text-primary-600 truncate"},V={class:"text-sm text-gray-500"},A={class:"bg-white shadow overflow-hidden sm:rounded-lg"},G={class:"border-t border-gray-200"},H={class:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-gray-200"},J={class:"px-4 py-5 sm:px-6"},K={class:"mt-1 text-3xl font-semibold text-gray-900"},O={class:"px-4 py-5 sm:px-6"},Q={class:"mt-1 text-3xl font-semibold text-green-600"},U={class:"px-4 py-5 sm:px-6"},W={class:"mt-1 text-3xl font-semibold text-gray-900"},q={__name:"Dashboard",setup(X){const n=r(!0),m=r(null),e=r({locations:0,machines:0,products:0,low_stock_items:[],low_stock_count:0,recent_restocks:0,revenue_total:0,profit_total:0,profit_margin:0}),x=d=>d<=0?"bg-red-100 text-red-800":d<=3?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800";return g(async()=>{try{const d=await _.getDashboardData();e.value=d.data}catch(d){console.error("Error fetching dashboard data:",d),m.value="Failed to load dashboard data"}finally{n.value=!1}}),(d,s)=>(i(),l("div",null,[s[10]||(s[10]=t("h1",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Dashboard",-1)),n.value?(i(),l("div",y,s[0]||(s[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"},null,-1)]))):(i(),l("div",f,[t("div",h,[t("div",b,[t("div",w,[t("dl",null,[s[1]||(s[1]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Locations",-1)),t("dd",k,o(e.value.locations),1)])])]),t("div",F,[t("div",D,[t("dl",null,[s[2]||(s[2]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Machines",-1)),t("dd",L,o(e.value.machines),1)])])]),t("div",P,[t("div",T,[t("dl",null,[s[3]||(s[3]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Products",-1)),t("dd",R,o(e.value.products),1)])])]),t("div",S,[t("div",j,[t("dl",null,[s[4]||(s[4]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Recent Restocks",-1)),t("dd",B,o(e.value.recent_restocks),1)])])])]),t("div",M,[t("div",C,[s[5]||(s[5]=t("div",null,[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Low Stock Items"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Products with stock level below threshold ")],-1)),t("span",{class:c(["inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium",e.value.low_stock_count>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},o(e.value.low_stock_count)+" items ",3)]),t("div",E,[e.value.low_stock_items.length===0?(i(),l("div",N," No low stock items - everything is well stocked! ")):(i(),l("ul",$,[(i(!0),l(v,null,p(e.value.low_stock_items,(a,u)=>(i(),l("li",{key:u,class:"px-4 py-4 sm:px-6"},[t("div",z,[t("div",null,[t("p",I,o(a.product),1),t("p",V,o(a.machine)+" ("+o(a.location)+")",1)]),t("div",null,[t("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x(a.current_stock)])}," Stock: "+o(a.current_stock),3)])])]))),128))]))])]),t("div",A,[s[9]||(s[9]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Revenue & Profit"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Last 30 days performance ")],-1)),t("div",G,[t("div",H,[t("div",J,[s[6]||(s[6]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Revenue",-1)),t("div",K,"$"+o(e.value.revenue_total.toFixed(2)),1)]),t("div",O,[s[7]||(s[7]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Profit",-1)),t("div",Q,"$"+o(e.value.profit_total.toFixed(2)),1)]),t("div",U,[s[8]||(s[8]=t("div",{class:"text-sm font-medium text-gray-500"},"Profit Margin",-1)),t("div",W,o(e.value.profit_margin.toFixed(1))+"%",1)])])])])]))]))}};export{q as default};
