import{m as g,y as x,r as m,c as u,a as s,e as w,t as p,f as l,v as d,w as v,p as k,q as N,s as V,x as C,d as f,g as U}from"./index-D9zG8uyo.js";const j={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert"},q={class:"block sm:inline"},R={class:"grid grid-cols-2 gap-4"},S=["disabled"],A={class:"mt-6 flex justify-center"},B={class:"text-sm"},E={__name:"Register",setup(P){const c=C(),y=g(),r=x({username:"",email:"",first_name:"",last_name:"",password:"",password2:""}),i=m(!1),a=m(""),b=async()=>{if(a.value="",i.value=!0,r.password!==r.password2){a.value="Passwords do not match",i.value=!1;return}try{const o=await y.register(r);if(o.success)c.push("/login");else if(typeof o.message=="object"){const e=[];for(const n in o.message)e.push(`${n}: ${o.message[n].join(", ")}`);a.value=e.join("; ")}else a.value=o.message||"Registration failed"}catch(o){a.value="An error occurred during registration",console.error("Registration error:",o)}finally{i.value=!1}};return(o,e)=>{const n=V("router-link");return f(),u("div",null,[e[13]||(e[13]=s("h2",{class:"text-2xl font-semibold text-center mb-6"},"Create New Account",-1)),a.value?(f(),u("div",j,[s("span",q,p(a.value),1)])):w("",!0),s("form",{onSubmit:v(b,["prevent"]),class:"space-y-4"},[s("div",R,[s("div",null,[e[6]||(e[6]=s("label",{for:"firstName",class:"block text-sm font-medium text-gray-700"},"First Name",-1)),l(s("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=t=>r.first_name=t),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,r.first_name]])]),s("div",null,[e[7]||(e[7]=s("label",{for:"lastName",class:"block text-sm font-medium text-gray-700"},"Last Name",-1)),l(s("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=t=>r.last_name=t),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,r.last_name]])])]),s("div",null,[e[8]||(e[8]=s("label",{for:"username",class:"block text-sm font-medium text-gray-700"},"Username",-1)),l(s("input",{id:"username","onUpdate:modelValue":e[2]||(e[2]=t=>r.username=t),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,r.username]])]),s("div",null,[e[9]||(e[9]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),l(s("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=t=>r.email=t),type:"email",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,r.email]])]),s("div",null,[e[10]||(e[10]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=t=>r.password=t),type:"password",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,r.password]])]),s("div",null,[e[11]||(e[11]=s("label",{for:"password2",class:"block text-sm font-medium text-gray-700"},"Confirm Password",-1)),l(s("input",{id:"password2","onUpdate:modelValue":e[5]||(e[5]=t=>r.password2=t),type:"password",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,r.password2]])]),s("div",null,[s("button",{type:"submit",disabled:i.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},p(i.value?"Creating account...":"Create account"),9,S)])],32),s("div",A,[s("div",B,[k(n,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500"},{default:N(()=>e[12]||(e[12]=[U(" Already have an account? Sign in ")])),_:1})])])])}}};export{E as default};
