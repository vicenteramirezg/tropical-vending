import{r as v,g as X,o as Y,c as r,a as t,t as n,h as Z,w as b,v as N,b as q,j as U,F as D,d as C,e as m,n as y,f as l}from"./index-CbeVZ3KH.js";import{a as R}from"./api-B1oyxXKA.js";const tt={key:0,class:"flex justify-center py-20"},et={key:1,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm"},st={class:"flex"},ot={class:"ml-3"},at={class:"text-sm text-red-700"},nt={key:2},rt={class:"bg-white p-5 shadow-lg rounded-xl mb-6"},lt={class:"flex flex-wrap items-center gap-4"},dt={key:0,class:"flex space-x-2"},it=["value"],ut={class:"bg-white shadow-lg overflow-hidden sm:rounded-xl mb-6 transition-all duration-300 hover:shadow-xl"},ct={class:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-gray-200"},mt={class:"px-6 py-5"},pt={class:"mt-2 text-3xl font-bold text-gray-900"},xt={class:"mt-2 text-sm text-gray-500 flex items-center"},vt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},gt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},yt={class:"px-6 py-5"},ft={class:"mt-2 text-3xl font-bold text-green-600"},ht={class:"mt-2 text-sm text-gray-500 flex items-center"},wt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_t={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},kt={class:"px-6 py-5"},bt={class:"mt-2 text-3xl font-bold text-gray-900"},Dt={class:"mt-2 text-sm text-gray-500 flex items-center"},Ct={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Rt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Mt={class:"bg-white shadow-lg overflow-hidden sm:rounded-xl mb-6 transition-all duration-300 hover:shadow-xl"},Ft={class:"px-6 py-5 border-b border-gray-100 flex justify-between items-center"},Lt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Bt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},St={role:"list",class:"divide-y divide-gray-200"},jt={class:"flex items-center justify-between"},Vt={class:"text-sm font-medium text-primary-600"},Pt={class:"text-sm text-gray-500 flex items-center mt-1"},At={class:"bg-white shadow-lg overflow-hidden sm:rounded-xl transition-all duration-300 hover:shadow-xl"},zt={class:"overflow-x-auto"},Et={class:"min-w-full divide-y divide-gray-200"},Tt={class:"bg-white divide-y divide-gray-200"},Nt={class:"px-6 py-4 whitespace-nowrap"},Ut={class:"text-sm font-medium text-gray-900"},$t={class:"px-6 py-4 whitespace-nowrap text-center"},Ht={class:"text-sm text-gray-900"},It={class:"px-6 py-4 whitespace-nowrap text-center"},Ot={class:"text-sm text-gray-900"},Gt={class:"px-6 py-4 whitespace-nowrap text-center"},Jt={class:"text-sm text-gray-900"},Kt={class:"px-6 py-4 whitespace-nowrap text-center"},Qt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Wt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Xt={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Yt={key:0,class:"mt-6 px-6"},Zt={class:"border rounded-lg shadow-sm overflow-hidden"},qt={class:"min-w-full divide-y divide-gray-200"},te={class:"bg-white divide-y divide-gray-200"},ee={class:"px-4 py-3 text-sm text-gray-900"},se={class:"px-4 py-3 text-sm text-gray-900"},oe={class:"px-4 py-3 text-sm text-gray-900"},ae={class:"px-4 py-3 text-sm text-gray-500 text-center"},ne={class:"text-xs text-gray-400"},re={class:"px-4 py-3 text-sm text-gray-900 text-center font-medium"},le={class:"px-4 py-3 text-sm text-gray-900 text-center"},de={class:"px-4 py-3 text-sm text-gray-900 text-center"},ie={key:1,class:"px-6 py-4 text-center"},ue={key:2,class:"px-6 py-4 text-center"},xe={__name:"Analytics",setup(ce){const _=v(!0),p=v(null),F=v([]),a=v({dateRange:"30",startDate:"",endDate:"",location:""}),d=v({revenue:{total:0,change:0},profit:{total:0,change:0},margin:{total:0,change:0}}),x=v({low_stock_count:0,items:[]}),i=v({unit_counts:[],products:[]}),$=X(()=>i.value.unit_counts?[...i.value.unit_counts].sort((s,e)=>s.location_name!==e.location_name?s.location_name.localeCompare(e.location_name):s.machine_name!==e.machine_name?s.machine_name.localeCompare(e.machine_name):s.product_name!==e.product_name?s.product_name.localeCompare(e.product_name):new Date(e.end_date)-new Date(s.end_date)):[]),H=s=>s<=0?"bg-red-100 text-red-800":s<=3?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",I=s=>s==null?"bg-gray-100 text-gray-800":s>10?"bg-green-100 text-green-800":s<-10?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",O=s=>s==null?"+0.0%":`${s>=0?"+":""}${s.toFixed(1)}%`,L=s=>s?new Date(s).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"",G=s=>s==null?"0.0/day":s.toFixed(1)+"/day",J=async()=>{try{const s=await R.getLocations();F.value=s.data}catch(s){console.error("Error fetching locations:",s)}},K=async()=>{var s,e,u,f,h,w;try{const g={days:a.value.dateRange!=="custom"?a.value.dateRange:void 0,start_date:a.value.dateRange==="custom"?a.value.startDate:void 0,end_date:a.value.dateRange==="custom"?a.value.endDate:void 0,location:a.value.location||void 0},c=await R.getRevenueProfitData(g);if(!c.data){d.value={revenue:{total:0,change:0},profit:{total:0,change:0},margin:{total:0,change:0}};return}d.value={revenue:{total:((s=c.data.revenue)==null?void 0:s.total)||0,change:((e=c.data.revenue)==null?void 0:e.change)||0},profit:{total:((u=c.data.profit)==null?void 0:u.total)||0,change:((f=c.data.profit)==null?void 0:f.change)||0},margin:{total:((h=c.data.margin)==null?void 0:h.total)||0,change:((w=c.data.margin)==null?void 0:w.change)||0}}}catch(g){console.error("Error fetching revenue/profit data:",g),p.value="Failed to load revenue and profit data",d.value={revenue:{total:0,change:0},profit:{total:0,change:0},margin:{total:0,change:0}}}},Q=async()=>{try{const s={location:a.value.location||void 0},e=await R.getStockLevels(s);if(!e.data){x.value={low_stock_count:0,items:[]};return}x.value={low_stock_count:e.data.low_stock_count||0,items:e.data.items||[]}}catch(s){console.error("Error fetching stock level data:",s),p.value="Failed to load stock level data",x.value={low_stock_count:0,items:[]}}},W=async()=>{try{const s={days:a.value.dateRange!=="custom"?a.value.dateRange:void 0,start_date:a.value.dateRange==="custom"?a.value.startDate:void 0,end_date:a.value.dateRange==="custom"?a.value.endDate:void 0,location:a.value.location||void 0},e=await R.getDemandAnalysis(s);if(console.log("Demand analysis data:",e.data),!e.data){i.value={products:[],unit_counts:[]};return}Array.isArray(e.data)?i.value={products:e.data||[],unit_counts:[]}:(i.value={products:e.data.products||[],unit_counts:e.data.unit_counts||[]},i.value.unit_counts&&i.value.unit_counts.length>0&&i.value.unit_counts.forEach(u=>{u.start_date&&(u.start_date=new Date(u.start_date)),u.end_date&&(u.end_date=new Date(u.end_date))}))}catch(s){console.error("Error fetching demand analysis data:",s),p.value="Failed to load demand analysis data",i.value={products:[],unit_counts:[]}}},k=async()=>{_.value=!0,p.value=null;try{if(a.value.dateRange==="custom"&&(!a.value.startDate||!a.value.endDate)){const s=new Date,e=new Date(s);e.setDate(s.getDate()-30),a.value.endDate||(a.value.endDate=s.toISOString().split("T")[0]),a.value.startDate||(a.value.startDate=e.toISOString().split("T")[0])}await Promise.all([K(),Q(),W()])}catch(s){console.error("Error refreshing data:",s),p.value="Failed to refresh analytics data"}finally{_.value=!1}};return Y(async()=>{try{await J(),await k()}catch(s){console.error("Error initializing analytics:",s),p.value="Failed to load analytics data"}finally{_.value=!1}}),(s,e)=>{var u,f,h,w,g,c,B,S,j,V,P,A,z,E,T;return l(),r("div",null,[e[39]||(e[39]=t("h1",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Analytics",-1)),_.value?(l(),r("div",tt,e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"},null,-1)]))):p.value?(l(),r("div",et,[t("div",st,[e[5]||(e[5]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),t("div",ot,[t("p",at,n(p.value),1)])])])):(l(),r("div",nt,[t("div",rt,[t("div",lt,[t("div",null,[e[7]||(e[7]=t("label",{for:"dateRange",class:"block text-sm font-medium text-gray-700 mb-1"},"Date Range",-1)),b(t("select",{id:"dateRange","onUpdate:modelValue":e[0]||(e[0]=o=>a.value.dateRange=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",onChange:k},e[6]||(e[6]=[q('<option value="7">Last 7 days</option><option value="30">Last 30 days</option><option value="90">Last 90 days</option><option value="365">Last 12 months</option><option value="custom">Custom range</option>',5)]),544),[[N,a.value.dateRange]])]),a.value.dateRange==="custom"?(l(),r("div",dt,[t("div",null,[e[8]||(e[8]=t("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),b(t("input",{type:"date",id:"startDate","onUpdate:modelValue":e[1]||(e[1]=o=>a.value.startDate=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[U,a.value.startDate]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),b(t("input",{type:"date",id:"endDate","onUpdate:modelValue":e[2]||(e[2]=o=>a.value.endDate=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[U,a.value.endDate]])])])):Z("",!0),t("div",null,[e[11]||(e[11]=t("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),b(t("select",{id:"location","onUpdate:modelValue":e[3]||(e[3]=o=>a.value.location=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",onChange:k},[e[10]||(e[10]=t("option",{value:""},"All Locations",-1)),(l(!0),r(D,null,C(F.value,o=>(l(),r("option",{key:o.id,value:o.id},n(o.name),9,it))),128))],544),[[N,a.value.location]])]),t("div",{class:"self-end ml-auto mt-4"},[t("button",{type:"button",onClick:k,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-150"},e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),m(" Apply Filters ")]))])])]),t("div",ut,[e[25]||(e[25]=t("div",{class:"px-6 py-5 border-b border-gray-100"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Revenue & Profit"),t("p",{class:"mt-1 text-sm text-gray-500"}," Financial performance for the selected period ")],-1)),t("div",null,[t("div",ct,[t("div",mt,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Revenue",-1)),t("div",pt,"$"+n((((u=d.value.revenue)==null?void 0:u.total)||0).toFixed(2)),1),t("div",xt,[t("span",{class:y([(((f=d.value.revenue)==null?void 0:f.change)||0)>=0?"text-green-600":"text-red-600","flex items-center"])},[(((h=d.value.revenue)==null?void 0:h.change)||0)>=0?(l(),r("svg",vt,e[13]||(e[13]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(l(),r("svg",gt,e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))),m(" "+n((((w=d.value.revenue)==null?void 0:w.change)||0)>=0?"+":"")+n((((g=d.value.revenue)==null?void 0:g.change)||0).toFixed(1))+"% ",1)],2),e[15]||(e[15]=t("span",{class:"ml-1"},"vs previous period",-1))])]),t("div",yt,[e[20]||(e[20]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Profit",-1)),t("div",ft,"$"+n((((c=d.value.profit)==null?void 0:c.total)||0).toFixed(2)),1),t("div",ht,[t("span",{class:y([(((B=d.value.profit)==null?void 0:B.change)||0)>=0?"text-green-600":"text-red-600","flex items-center"])},[(((S=d.value.profit)==null?void 0:S.change)||0)>=0?(l(),r("svg",wt,e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(l(),r("svg",_t,e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))),m(" "+n((((j=d.value.profit)==null?void 0:j.change)||0)>=0?"+":"")+n((((V=d.value.profit)==null?void 0:V.change)||0).toFixed(1))+"% ",1)],2),e[19]||(e[19]=t("span",{class:"ml-1"},"vs previous period",-1))])]),t("div",kt,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-gray-500"},"Profit Margin",-1)),t("div",bt,n((((P=d.value.margin)==null?void 0:P.total)||0).toFixed(1))+"%",1),t("div",Dt,[t("span",{class:y([(((A=d.value.margin)==null?void 0:A.change)||0)>=0?"text-green-600":"text-red-600","flex items-center"])},[(((z=d.value.margin)==null?void 0:z.change)||0)>=0?(l(),r("svg",Ct,e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(l(),r("svg",Rt,e[22]||(e[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))),m(" "+n((((E=d.value.margin)==null?void 0:E.change)||0)>=0?"+":"")+n((((T=d.value.margin)==null?void 0:T.change)||0).toFixed(1))+"% ",1)],2),e[23]||(e[23]=t("span",{class:"ml-1"},"vs previous period",-1))])])])])]),t("div",Mt,[t("div",Ft,[e[28]||(e[28]=t("div",null,[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Stock Levels"),t("p",{class:"mt-1 text-sm text-gray-500"}," Current inventory levels across machines ")],-1)),t("span",{class:y(["inline-flex items-center px-3.5 py-1 rounded-full text-sm font-medium",x.value.low_stock_count>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},[x.value.low_stock_count>0?(l(),r("svg",Lt,e[26]||(e[26]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):(l(),r("svg",Bt,e[27]||(e[27]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),m(" "+n(x.value.low_stock_count)+" items low stock ",1)],2)]),t("div",null,[t("ul",St,[(l(!0),r(D,null,C(x.value.items,(o,M)=>(l(),r("li",{key:M,class:"px-6 py-4 hover:bg-gray-50 transition-colors duration-150"},[t("div",jt,[t("div",null,[t("p",Vt,n(o.product_name),1),t("p",Pt,[e[29]||(e[29]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),m(" "+n(o.machine_name)+" at "+n(o.location_name),1)])]),t("div",null,[t("span",{class:y(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",H(o.current_stock)])}," Stock: "+n(o.current_stock),3)])])]))),128))])])]),t("div",At,[e[38]||(e[38]=t("div",{class:"px-6 py-5 border-b border-gray-100"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Product Demand Analysis"),t("p",{class:"mt-1 text-sm text-gray-500"}," Sales performance and demand tracking based on restock data ")],-1)),t("div",null,[t("div",zt,[t("table",Et,[e[33]||(e[33]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Units Sold "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Revenue "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Profit "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Trend ")])],-1)),t("tbody",Tt,[(l(!0),r(D,null,C(i.value.products,o=>(l(),r("tr",{key:o.product_id,class:"hover:bg-gray-50 transition-colors duration-150"},[t("td",Nt,[t("div",Ut,n(o.product_name),1)]),t("td",$t,[t("div",Ht,n(o.units_sold),1)]),t("td",It,[t("div",Ot,"$"+n((o.revenue||0).toFixed(2)),1)]),t("td",Gt,[t("div",Jt,"$"+n((o.profit||0).toFixed(2)),1)]),t("td",Kt,[t("span",{class:y(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",I(o.trend||0)])},[(o.trend||0)>0?(l(),r("svg",Qt,e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(o.trend||0)<0?(l(),r("svg",Wt,e[31]||(e[31]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):(l(),r("svg",Xt,e[32]||(e[32]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 12H6"},null,-1)]))),m(" "+n(O(o.trend||0)),1)],2)])]))),128))])])]),i.value.unit_counts&&i.value.unit_counts.length>0?(l(),r("div",Yt,[e[35]||(e[35]=t("h4",{class:"text-base font-medium text-gray-700 mb-3"},"Detailed Demand By Machine & Product",-1)),t("div",Zt,[t("table",qt,[e[34]||(e[34]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Location "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Machine "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Product "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Period "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Units Sold "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Daily Demand "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Revenue ")])],-1)),t("tbody",te,[(l(!0),r(D,null,C($.value,(o,M)=>(l(),r("tr",{key:M,class:"hover:bg-gray-50"},[t("td",ee,n(o.location_name),1),t("td",se,n(o.machine_name),1),t("td",oe,n(o.product_name),1),t("td",ae,[m(n(L(o.start_date))+" - "+n(L(o.end_date))+" ",1),t("div",ne,"("+n(o.days_between)+" days)",1)]),t("td",re,n(o.units_sold),1),t("td",le,n(G(o.daily_demand)),1),t("td",de," $"+n((o.revenue||0).toFixed(2)),1)]))),128))])])])])):i.value.products&&i.value.products.length>0&&(!i.value.unit_counts||i.value.unit_counts.length===0)?(l(),r("div",ie,e[36]||(e[36]=[t("p",{class:"text-sm text-gray-500"},[m(" No detailed demand data is available for the selected period. "),t("br"),m("Need at least two restock visits to the same machine to calculate demand. ")],-1)]))):(l(),r("div",ue,e[37]||(e[37]=[t("p",{class:"text-sm text-gray-500"}," No demand data available. Record restock visits to track product demand. ",-1)])))])])]))])}}};export{xe as default};
