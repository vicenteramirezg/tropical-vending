import{r as v,q as Q,g as W,c as r,b as t,t as n,i as X,w as b,v as N,d as tt,m as T,F as D,e as C,f as m,n as y,o as l,u as $}from"./index-Dr1fHcBK.js";import{a as R}from"./api-BZqk93rT.js";import{a as et,b as U}from"./dateUtils-CXdyRzwD.js";const st={key:0,class:"flex justify-center py-20"},ot={key:1,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm"},at={class:"flex"},nt={class:"ml-3"},rt={class:"text-sm text-red-700"},lt={key:2},dt={class:"bg-white p-5 shadow-lg rounded-xl mb-6"},it={class:"flex flex-wrap items-center gap-4"},ut={key:0,class:"flex space-x-2"},ct=["value"],mt={class:"bg-white shadow-lg overflow-hidden sm:rounded-xl mb-6 transition-all duration-300 hover:shadow-xl"},pt={class:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-gray-200"},xt={class:"px-6 py-5"},vt={class:"mt-2 text-3xl font-bold text-gray-900"},gt={class:"mt-2 text-sm text-gray-500 flex items-center"},yt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ft={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ht={class:"px-6 py-5"},wt={class:"mt-2 text-3xl font-bold text-green-600"},_t={class:"mt-2 text-sm text-gray-500 flex items-center"},kt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},bt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Dt={class:"px-6 py-5"},Ct={class:"mt-2 text-3xl font-bold text-gray-900"},Rt={class:"mt-2 text-sm text-gray-500 flex items-center"},Ft={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Mt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Lt={class:"bg-white shadow-lg overflow-hidden sm:rounded-xl mb-6 transition-all duration-300 hover:shadow-xl"},Bt={class:"px-6 py-5 border-b border-gray-100 flex justify-between items-center"},jt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Vt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},At={role:"list",class:"divide-y divide-gray-200"},St={class:"flex items-center justify-between"},Pt={class:"text-sm font-medium text-primary-600"},zt={class:"text-sm text-gray-500 flex items-center mt-1"},Et={class:"bg-white shadow-lg overflow-hidden sm:rounded-xl transition-all duration-300 hover:shadow-xl"},Nt={class:"overflow-x-auto"},Tt={class:"min-w-full divide-y divide-gray-200"},$t={class:"bg-white divide-y divide-gray-200"},Ut={class:"px-6 py-4 whitespace-nowrap"},Ht={class:"text-sm font-medium text-gray-900"},Yt={class:"px-6 py-4 whitespace-nowrap text-center"},Zt={class:"text-sm text-gray-900"},qt={class:"px-6 py-4 whitespace-nowrap text-center"},Gt={class:"text-sm text-gray-900"},It={class:"px-6 py-4 whitespace-nowrap text-center"},Jt={class:"text-sm text-gray-900"},Kt={class:"px-6 py-4 whitespace-nowrap text-center"},Ot={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Qt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Wt={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Xt={key:0,class:"mt-6 px-6"},te={class:"border rounded-lg shadow-sm overflow-hidden"},ee={class:"min-w-full divide-y divide-gray-200"},se={class:"bg-white divide-y divide-gray-200"},oe={class:"px-4 py-3 text-sm text-gray-900"},ae={class:"px-4 py-3 text-sm text-gray-900"},ne={class:"px-4 py-3 text-sm text-gray-900"},re={class:"px-4 py-3 text-sm text-gray-500 text-center"},le={class:"text-xs text-gray-400"},de={class:"px-4 py-3 text-sm text-gray-900 text-center font-medium"},ie={class:"px-4 py-3 text-sm text-gray-900 text-center"},ue={class:"px-4 py-3 text-sm text-gray-900 text-center"},ce={key:1,class:"px-6 py-4 text-center"},me={key:2,class:"px-6 py-4 text-center"},ye={__name:"Analytics",setup(pe){const _=v(!0),p=v(null),M=v([]),a=v({dateRange:"30",startDate:"",endDate:"",location:""}),d=v({revenue:{total:0,change:0},profit:{total:0,change:0},margin:{total:0,change:0}}),x=v({low_stock_count:0,items:[]}),i=v({unit_counts:[],products:[]}),H=Q(()=>i.value.unit_counts?[...i.value.unit_counts].sort((s,e)=>s.location_name!==e.location_name?s.location_name.localeCompare(e.location_name):s.machine_name!==e.machine_name?s.machine_name.localeCompare(e.machine_name):s.product_name!==e.product_name?s.product_name.localeCompare(e.product_name):new Date(e.end_date)-new Date(s.end_date)):[]),Y=s=>s<=0?"bg-red-100 text-red-800":s<=3?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",Z=s=>s==null?"bg-gray-100 text-gray-800":s>10?"bg-green-100 text-green-800":s<-10?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",q=s=>s==null?"+0.0%":`${s>=0?"+":""}${s.toFixed(1)}%`,G=s=>s==null?"0.0/day":s.toFixed(1)+"/day",I=async()=>{try{const s=await R.getLocations();M.value=s.data}catch(s){console.error("Error fetching locations:",s)}},J=async()=>{var s,e,u,f,h,w;try{const g={days:a.value.dateRange!=="custom"?a.value.dateRange:void 0,start_date:a.value.dateRange==="custom"?a.value.startDate:void 0,end_date:a.value.dateRange==="custom"?a.value.endDate:void 0,location:a.value.location||void 0},c=await R.getRevenueProfitData(g);if(!c.data){d.value={revenue:{total:0,change:0},profit:{total:0,change:0},margin:{total:0,change:0}};return}d.value={revenue:{total:((s=c.data.revenue)==null?void 0:s.total)||0,change:((e=c.data.revenue)==null?void 0:e.change)||0},profit:{total:((u=c.data.profit)==null?void 0:u.total)||0,change:((f=c.data.profit)==null?void 0:f.change)||0},margin:{total:((h=c.data.margin)==null?void 0:h.total)||0,change:((w=c.data.margin)==null?void 0:w.change)||0}}}catch(g){console.error("Error fetching revenue/profit data:",g),p.value="Failed to load revenue and profit data",d.value={revenue:{total:0,change:0},profit:{total:0,change:0},margin:{total:0,change:0}}}},K=async()=>{try{const s={location:a.value.location||void 0},e=await R.getStockLevels(s);if(!e.data){x.value={low_stock_count:0,items:[]};return}x.value={low_stock_count:e.data.low_stock_count||0,items:e.data.items||[]}}catch(s){console.error("Error fetching stock level data:",s),p.value="Failed to load stock level data",x.value={low_stock_count:0,items:[]}}},O=async()=>{try{const s={days:a.value.dateRange!=="custom"?a.value.dateRange:void 0,start_date:a.value.dateRange==="custom"?a.value.startDate:void 0,end_date:a.value.dateRange==="custom"?a.value.endDate:void 0,location:a.value.location||void 0},e=await R.getDemandAnalysis(s);if(console.log("Demand analysis data:",e.data),!e.data){i.value={products:[],unit_counts:[]};return}Array.isArray(e.data)?i.value={products:e.data||[],unit_counts:[]}:(i.value={products:e.data.products||[],unit_counts:e.data.unit_counts||[]},i.value.unit_counts&&i.value.unit_counts.length>0&&i.value.unit_counts.forEach(u=>{u.start_date&&(u.start_date=new Date(u.start_date)),u.end_date&&(u.end_date=new Date(u.end_date))}))}catch(s){console.error("Error fetching demand analysis data:",s),p.value="Failed to load demand analysis data",i.value={products:[],unit_counts:[]}}},k=async()=>{_.value=!0,p.value=null;try{if(a.value.dateRange==="custom"&&(!a.value.startDate||!a.value.endDate)){const s=et(),e=new Date;e.setDate(e.getDate()-30);const u=e.toLocaleDateString("en-CA",{timeZone:"America/New_York"});a.value.endDate||(a.value.endDate=s),a.value.startDate||(a.value.startDate=u)}await Promise.all([J(),K(),O()])}catch(s){console.error("Error refreshing data:",s),p.value="Failed to refresh analytics data"}finally{_.value=!1}};return W(async()=>{try{await I(),await k()}catch(s){console.error("Error initializing analytics:",s),p.value="Failed to load analytics data"}finally{_.value=!1}}),(s,e)=>{var u,f,h,w,g,c,L,B,j,V,A,S,P,z,E;return l(),r("div",null,[e[39]||(e[39]=t("h1",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Analytics",-1)),_.value?(l(),r("div",st,e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"},null,-1)]))):p.value?(l(),r("div",ot,[t("div",at,[e[5]||(e[5]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),t("div",nt,[t("p",rt,n(p.value),1)])])])):(l(),r("div",lt,[t("div",dt,[t("div",it,[t("div",null,[e[7]||(e[7]=t("label",{for:"dateRange",class:"block text-sm font-medium text-gray-700 mb-1"},"Date Range",-1)),b(t("select",{id:"dateRange","onUpdate:modelValue":e[0]||(e[0]=o=>a.value.dateRange=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",onChange:k},e[6]||(e[6]=[tt('<option value="7">Last 7 days</option><option value="30">Last 30 days</option><option value="90">Last 90 days</option><option value="365">Last 12 months</option><option value="custom">Custom range</option>',5)]),544),[[N,a.value.dateRange]])]),a.value.dateRange==="custom"?(l(),r("div",ut,[t("div",null,[e[8]||(e[8]=t("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),b(t("input",{type:"date",id:"startDate","onUpdate:modelValue":e[1]||(e[1]=o=>a.value.startDate=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[T,a.value.startDate]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),b(t("input",{type:"date",id:"endDate","onUpdate:modelValue":e[2]||(e[2]=o=>a.value.endDate=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[T,a.value.endDate]])])])):X("",!0),t("div",null,[e[11]||(e[11]=t("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),b(t("select",{id:"location","onUpdate:modelValue":e[3]||(e[3]=o=>a.value.location=o),class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",onChange:k},[e[10]||(e[10]=t("option",{value:""},"All Locations",-1)),(l(!0),r(D,null,C(M.value,o=>(l(),r("option",{key:o.id,value:o.id},n(o.name),9,ct))),128))],544),[[N,a.value.location]])]),t("div",{class:"self-end ml-auto mt-4"},[t("button",{type:"button",onClick:k,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-150"},e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),m(" Apply Filters ")]))])])]),t("div",mt,[e[25]||(e[25]=t("div",{class:"px-6 py-5 border-b border-gray-100"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Revenue & Profit"),t("p",{class:"mt-1 text-sm text-gray-500"}," Financial performance for the selected period ")],-1)),t("div",null,[t("div",pt,[t("div",xt,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Revenue",-1)),t("div",vt,"$"+n((((u=d.value.revenue)==null?void 0:u.total)||0).toFixed(2)),1),t("div",gt,[t("span",{class:y([(((f=d.value.revenue)==null?void 0:f.change)||0)>=0?"text-green-600":"text-red-600","flex items-center"])},[(((h=d.value.revenue)==null?void 0:h.change)||0)>=0?(l(),r("svg",yt,e[13]||(e[13]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(l(),r("svg",ft,e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))),m(" "+n((((w=d.value.revenue)==null?void 0:w.change)||0)>=0?"+":"")+n((((g=d.value.revenue)==null?void 0:g.change)||0).toFixed(1))+"% ",1)],2),e[15]||(e[15]=t("span",{class:"ml-1"},"vs previous period",-1))])]),t("div",ht,[e[20]||(e[20]=t("div",{class:"text-sm font-medium text-gray-500"},"Total Profit",-1)),t("div",wt,"$"+n((((c=d.value.profit)==null?void 0:c.total)||0).toFixed(2)),1),t("div",_t,[t("span",{class:y([(((L=d.value.profit)==null?void 0:L.change)||0)>=0?"text-green-600":"text-red-600","flex items-center"])},[(((B=d.value.profit)==null?void 0:B.change)||0)>=0?(l(),r("svg",kt,e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(l(),r("svg",bt,e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))),m(" "+n((((j=d.value.profit)==null?void 0:j.change)||0)>=0?"+":"")+n((((V=d.value.profit)==null?void 0:V.change)||0).toFixed(1))+"% ",1)],2),e[19]||(e[19]=t("span",{class:"ml-1"},"vs previous period",-1))])]),t("div",Dt,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-gray-500"},"Profit Margin",-1)),t("div",Ct,n((((A=d.value.margin)==null?void 0:A.total)||0).toFixed(1))+"%",1),t("div",Rt,[t("span",{class:y([(((S=d.value.margin)==null?void 0:S.change)||0)>=0?"text-green-600":"text-red-600","flex items-center"])},[(((P=d.value.margin)==null?void 0:P.change)||0)>=0?(l(),r("svg",Ft,e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(l(),r("svg",Mt,e[22]||(e[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))),m(" "+n((((z=d.value.margin)==null?void 0:z.change)||0)>=0?"+":"")+n((((E=d.value.margin)==null?void 0:E.change)||0).toFixed(1))+"% ",1)],2),e[23]||(e[23]=t("span",{class:"ml-1"},"vs previous period",-1))])])])])]),t("div",Lt,[t("div",Bt,[e[28]||(e[28]=t("div",null,[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Stock Levels"),t("p",{class:"mt-1 text-sm text-gray-500"}," Current inventory levels across machines ")],-1)),t("span",{class:y(["inline-flex items-center px-3.5 py-1 rounded-full text-sm font-medium",x.value.low_stock_count>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},[x.value.low_stock_count>0?(l(),r("svg",jt,e[26]||(e[26]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))):(l(),r("svg",Vt,e[27]||(e[27]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),m(" "+n(x.value.low_stock_count)+" items low stock ",1)],2)]),t("div",null,[t("ul",At,[(l(!0),r(D,null,C(x.value.items,(o,F)=>(l(),r("li",{key:F,class:"px-6 py-4 hover:bg-gray-50 transition-colors duration-150"},[t("div",St,[t("div",null,[t("p",Pt,n(o.product_name),1),t("p",zt,[e[29]||(e[29]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),m(" "+n(o.machine_name)+" at "+n(o.location_name),1)])]),t("div",null,[t("span",{class:y(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Y(o.current_stock)])}," Stock: "+n(o.current_stock),3)])])]))),128))])])]),t("div",Et,[e[38]||(e[38]=t("div",{class:"px-6 py-5 border-b border-gray-100"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Product Demand Analysis"),t("p",{class:"mt-1 text-sm text-gray-500"}," Sales performance and demand tracking based on restock data ")],-1)),t("div",null,[t("div",Nt,[t("table",Tt,[e[33]||(e[33]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Units Sold "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Revenue "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Profit "),t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"}," Trend ")])],-1)),t("tbody",$t,[(l(!0),r(D,null,C(i.value.products,o=>(l(),r("tr",{key:o.product_id,class:"hover:bg-gray-50 transition-colors duration-150"},[t("td",Ut,[t("div",Ht,n(o.product_name),1)]),t("td",Yt,[t("div",Zt,n(o.units_sold),1)]),t("td",qt,[t("div",Gt,"$"+n((o.revenue||0).toFixed(2)),1)]),t("td",It,[t("div",Jt,"$"+n((o.profit||0).toFixed(2)),1)]),t("td",Kt,[t("span",{class:y(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Z(o.trend||0)])},[(o.trend||0)>0?(l(),r("svg",Ot,e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):(o.trend||0)<0?(l(),r("svg",Qt,e[31]||(e[31]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):(l(),r("svg",Wt,e[32]||(e[32]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 12H6"},null,-1)]))),m(" "+n(q(o.trend||0)),1)],2)])]))),128))])])]),i.value.unit_counts&&i.value.unit_counts.length>0?(l(),r("div",Xt,[e[35]||(e[35]=t("h4",{class:"text-base font-medium text-gray-700 mb-3"},"Detailed Demand By Machine & Product",-1)),t("div",te,[t("table",ee,[e[34]||(e[34]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Location "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Machine "),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Product "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Period "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Units Sold "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Daily Demand "),t("th",{scope:"col",class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"}," Revenue ")])],-1)),t("tbody",se,[(l(!0),r(D,null,C(H.value,(o,F)=>(l(),r("tr",{key:F,class:"hover:bg-gray-50"},[t("td",oe,n(o.location_name),1),t("td",ae,n(o.machine_name),1),t("td",ne,n(o.product_name),1),t("td",re,[m(n($(U)(o.start_date))+" - "+n($(U)(o.end_date))+" ",1),t("div",le,"("+n(o.days_between)+" days)",1)]),t("td",de,n(o.units_sold),1),t("td",ie,n(G(o.daily_demand)),1),t("td",ue," $"+n((o.revenue||0).toFixed(2)),1)]))),128))])])])])):i.value.products&&i.value.products.length>0&&(!i.value.unit_counts||i.value.unit_counts.length===0)?(l(),r("div",ce,e[36]||(e[36]=[t("p",{class:"text-sm text-gray-500"},[m(" No detailed demand data is available for the selected period. "),t("br"),m("Need at least two restock visits to the same machine to calculate demand. ")],-1)]))):(l(),r("div",me,e[37]||(e[37]=[t("p",{class:"text-sm text-gray-500"}," No demand data available. Record restock visits to track product demand. ",-1)])))])])]))])}}};export{ye as default};
