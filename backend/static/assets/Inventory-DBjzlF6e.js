import{r as h,a as H,m as E,c as l,o as d,b as t,k as V,w as k,v as P,F as v,e as _,t as s,d as F,q as O,x as A,n as w,f as D,j as W,u as f,h as T,A as U}from"./index-QfMVkJ_U.js";import{a as L}from"./api-IWDa62Jn.js";function q(){const c=h(!1),x=h(""),g=h(!1),y=h(!1),u=h(!1),m=h([]),r=h([]),e=h(null),n=h(null),o=h(null),a=H({location:"",product:"",machine:"",startDate:"",endDate:"",days:"7",analysisDays:"30"}),p=async()=>{c.value=!0,x.value="";try{await Promise.all([B(),z(),S(),C(),M()])}catch(i){console.error("Error initializing inventory reports:",i),x.value="Failed to load inventory data. Please try again."}finally{c.value=!1}},B=async()=>{try{const i=await L.get("/locations/");m.value=i.data.results||i.data||[]}catch(i){console.error("Error loading locations:",i)}},z=async()=>{try{const i=await L.get("/products/");r.value=i.data.results||i.data||[]}catch(i){console.error("Error loading products:",i)}},S=async()=>{g.value=!0;try{const i={};a.location&&(i.location=a.location),a.product&&(i.product=a.product),a.machine&&(i.machine=a.machine);const $=await L.get("/inventory/current-stock/",{params:i});e.value=$.data}catch(i){throw console.error("Error loading current stock:",i),i}finally{g.value=!1}},C=async()=>{y.value=!0;try{const i={};a.location&&(i.location=a.location),a.product&&(i.product=a.product),a.startDate&&a.endDate?(i.start_date=a.startDate,i.end_date=a.endDate):a.days&&(i.days=a.days);const $=await L.get("/inventory/restock-summary/",{params:i});n.value=$.data}catch(i){throw console.error("Error loading restock summary:",i),i}finally{y.value=!1}},M=async()=>{u.value=!0;try{const i={};a.location&&(i.location=a.location),a.product&&(i.product=a.product),a.analysisDays&&(i.analysis_days=a.analysisDays);const $=await L.get("/inventory/stock-coverage/",{params:i});o.value=$.data}catch(i){throw console.error("Error loading stock coverage:",i),i}finally{u.value=!1}};return{loading:c,error:x,currentStockLoading:g,restockSummaryLoading:y,stockCoverageLoading:u,locations:m,products:r,currentStockData:e,restockSummaryData:n,stockCoverageData:o,filters:a,initialize:p,applyFilters:async()=>{x.value="";try{await Promise.all([S(),C(),M()])}catch{x.value="Failed to apply filters. Please try again."}},loadCurrentStock:S,loadRestockSummary:C,loadStockCoverage:M,formatDate:i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),formatDateTime:i=>new Date(i).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),getStockLevelClass:(i,$=5)=>i===0?"text-red-600 bg-red-50":i<$?"text-orange-600 bg-orange-50":"text-green-600 bg-green-50",getCoverageStatusClass:i=>{switch(i){case"critical":return"text-red-600 bg-red-50";case"low":return"text-orange-600 bg-orange-50";case"moderate":return"text-yellow-600 bg-yellow-50";case"good":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},getCoverageStatusText:i=>{switch(i){case"critical":return"Critical";case"low":return"Low";case"moderate":return"Moderate";case"good":return"Good";default:return"Unknown"}}}}const I={class:"bg-white shadow rounded-lg p-6 mb-6"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},J=["value"],K=["value"],Q={key:0,class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},X={__name:"InventoryFilterControls",props:{filters:{type:Object,required:!0},locations:{type:Array,default:()=>[]},products:{type:Array,default:()=>[]}},emits:["apply-filters","update-filters"],setup(c,{emit:x}){const g=c,y=x,u=H({location:g.filters.location||"",product:g.filters.product||"",startDate:g.filters.startDate||"",endDate:g.filters.endDate||"",days:g.filters.days||"7",analysisDays:g.filters.analysisDays||"30"}),m=h(g.filters.days||"7"),r=()=>{if(m.value!=="custom")u.days=m.value,u.startDate="",u.endDate="";else{u.days="";const o=new Date,a=new Date(o);a.setDate(o.getDate()-7),u.endDate=o.toISOString().split("T")[0],u.startDate=a.toISOString().split("T")[0]}},e=()=>{Object.assign(g.filters,u),y("apply-filters")},n=()=>{u.location="",u.product="",u.startDate="",u.endDate="",u.days="7",u.analysisDays="30",m.value="7",Object.assign(g.filters,u),y("apply-filters")};return E(()=>g.filters,o=>{Object.assign(u,o),m.value=o.days||(o.startDate&&o.endDate?"custom":"7")},{deep:!0}),(o,a)=>(d(),l("div",I,[a[16]||(a[16]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Options",-1)),t("div",G,[t("div",null,[a[7]||(a[7]=t("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1"}," Location ",-1)),k(t("select",{id:"location","onUpdate:modelValue":a[0]||(a[0]=p=>u.location=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},[a[6]||(a[6]=t("option",{value:""},"All Locations",-1)),(d(!0),l(v,null,_(c.locations,p=>(d(),l("option",{key:p.id,value:p.id},s(p.name),9,J))),128))],512),[[P,u.location]])]),t("div",null,[a[9]||(a[9]=t("label",{for:"product",class:"block text-sm font-medium text-gray-700 mb-1"}," Product ",-1)),k(t("select",{id:"product","onUpdate:modelValue":a[1]||(a[1]=p=>u.product=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},[a[8]||(a[8]=t("option",{value:""},"All Products",-1)),(d(!0),l(v,null,_(c.products,p=>(d(),l("option",{key:p.id,value:p.id},s(p.name),9,K))),128))],512),[[P,u.product]])]),t("div",null,[a[11]||(a[11]=t("label",{for:"timePeriod",class:"block text-sm font-medium text-gray-700 mb-1"}," Time Period ",-1)),k(t("select",{id:"timePeriod","onUpdate:modelValue":a[2]||(a[2]=p=>m.value=p),onChange:r,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},a[10]||(a[10]=[F('<option value="7">Past 7 days</option><option value="14">Past 2 weeks</option><option value="30">Past month</option><option value="90">Past 3 months</option><option value="custom">Custom range</option>',5)]),544),[[P,m.value]])]),t("div",null,[a[13]||(a[13]=t("label",{for:"analysisDays",class:"block text-sm font-medium text-gray-700 mb-1"}," Analysis Period ",-1)),k(t("select",{id:"analysisDays","onUpdate:modelValue":a[3]||(a[3]=p=>u.analysisDays=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},a[12]||(a[12]=[F('<option value="7">7 days</option><option value="14">2 weeks</option><option value="30">30 days</option><option value="60">60 days</option><option value="90">90 days</option>',5)]),512),[[P,u.analysisDays]])])]),m.value==="custom"?(d(),l("div",Q,[t("div",null,[a[14]||(a[14]=t("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"}," Start Date ",-1)),k(t("input",{id:"startDate",type:"date","onUpdate:modelValue":a[4]||(a[4]=p=>u.startDate=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[O,u.startDate]])]),t("div",null,[a[15]||(a[15]=t("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 mb-1"}," End Date ",-1)),k(t("input",{id:"endDate",type:"date","onUpdate:modelValue":a[5]||(a[5]=p=>u.endDate=p),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[O,u.endDate]])])])):V("",!0),t("div",{class:"mt-6 flex justify-end space-x-3"},[t("button",{onClick:n,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Clear Filters "),t("button",{onClick:e,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Apply Filters ")])]))}},Y={class:"space-y-6"},Z={key:0,class:"flex justify-center py-12"},tt={key:1},et={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},st={class:"bg-white overflow-hidden shadow rounded-lg"},ot={class:"p-5"},at={class:"flex items-center"},rt={class:"ml-5 w-0 flex-1"},nt={class:"text-lg font-medium text-gray-900"},it={class:"bg-white overflow-hidden shadow rounded-lg"},lt={class:"p-5"},dt={class:"flex items-center"},ct={class:"ml-5 w-0 flex-1"},ut={class:"text-lg font-medium text-gray-900"},xt={class:"bg-white overflow-hidden shadow rounded-lg"},mt={class:"p-5"},pt={class:"flex items-center"},gt={class:"ml-5 w-0 flex-1"},yt={class:"text-lg font-medium text-gray-900"},ft={class:"bg-white shadow overflow-hidden sm:rounded-md mb-8"},ht={class:"overflow-x-auto"},wt={class:"min-w-full divide-y divide-gray-200"},vt={class:"bg-white divide-y divide-gray-200"},_t={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},St={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Mt={class:"flex flex-wrap gap-1"},jt={class:"bg-white shadow overflow-hidden sm:rounded-md"},Lt={class:"overflow-x-auto"},Pt={class:"min-w-full divide-y divide-gray-200"},Tt={class:"bg-white divide-y divide-gray-200"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Rt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},At={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ft={class:"text-center text-sm text-gray-500 mt-6"},Ot={key:2,class:"text-center py-12"},Ht={__name:"CurrentStockReport",props:{data:{type:Object,default:null},loading:{type:Boolean,default:!1}},setup(c){const x=c,g=A(()=>{var r;return(r=x.data)!=null&&r.product_summary?x.data.product_summary.reduce((e,n)=>e+n.warehouse_quantity,0):0}),y=A(()=>{var r;return(r=x.data)!=null&&r.product_summary?x.data.product_summary.reduce((e,n)=>e+n.total_machine_stock,0):0}),u=(r,e=5)=>r===0?"bg-red-100 text-red-800":r<e?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800",m=r=>new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(r,e)=>{var n;return d(),l("div",Y,[c.loading?(d(),l("div",Z,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"},null,-1)]))):c.data?(d(),l("div",tt,[t("div",et,[t("div",st,[t("div",ot,[t("div",at,[e[2]||(e[2]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",rt,[t("dl",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Products",-1)),t("dd",nt,s(((n=c.data.product_summary)==null?void 0:n.length)||0),1)])])])])]),t("div",it,[t("div",lt,[t("div",dt,[e[4]||(e[4]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t("div",ct,[t("dl",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Warehouse Stock",-1)),t("dd",ut,s(g.value),1)])])])])]),t("div",xt,[t("div",mt,[t("div",pt,[e[6]||(e[6]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),t("div",gt,[t("dl",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Machine Stock",-1)),t("dd",yt,s(y.value),1)])])])])])]),t("div",ft,[e[8]||(e[8]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Product Stock Summary"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Current stock levels for all products across warehouse and machines. ")],-1)),t("div",ht,[t("table",wt,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Warehouse Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machine Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machines "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Locations ")])],-1)),t("tbody",vt,[(d(!0),l(v,null,_(c.data.product_summary,o=>(d(),l("tr",{key:o.product_id,class:"hover:bg-gray-50"},[t("td",_t,s(o.product_name),1),t("td",kt,[t("span",{class:w(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o.product_type==="Soda"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"])},s(o.product_type),3)]),t("td",bt,[t("span",{class:w([u(o.warehouse_quantity),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(o.warehouse_quantity),3)]),t("td",$t,[t("span",{class:w([u(o.total_machine_stock),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(o.total_machine_stock),3)]),t("td",Dt,s(o.total_stock),1),t("td",St,s(o.machine_count),1),t("td",Ct,[t("div",Mt,[(d(!0),l(v,null,_(o.locations,a=>(d(),l("span",{key:a,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"},s(a),1))),128))])])]))),128))])])])]),t("div",jt,[e[10]||(e[10]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Machine Stock Details"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Detailed stock levels for each product in each machine. ")],-1)),t("div",Lt,[t("table",Pt,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machine "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Price "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slot ")])],-1)),t("tbody",Tt,[(d(!0),l(v,null,_(c.data.machine_details,o=>(d(),l("tr",{key:`${o.machine_id}-${o.product_id}`,class:"hover:bg-gray-50"},[t("td",Bt,s(o.location_name),1),t("td",zt,s(o.machine_name),1),t("td",Rt,s(o.product_name),1),t("td",Ut,[t("span",{class:w([u(o.current_stock),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(o.current_stock),3)]),t("td",Vt," $"+s(o.price.toFixed(2)),1),t("td",At,s(o.slot||"N/A"),1)]))),128))])])])]),t("div",Ft," Report generated on "+s(m(c.data.generated_at)),1)])):(d(),l("div",Ot,e[11]||(e[11]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m14 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m14 0H6m14 0l-2-2m0 0l-2-2m2 2l-2 2M6 13l2-2m0 0l2-2m-2 2l-2 2"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No stock data available",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Try adjusting your filters or check if products have stock information.",-1)])))])}}},Nt={class:"space-y-6"},Et={key:0,class:"flex justify-center py-12"},Wt={key:1},qt={class:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6"},It={class:"flex"},Gt={class:"ml-3"},Jt={class:"text-sm text-blue-700"},Kt={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Qt={class:"bg-white overflow-hidden shadow rounded-lg"},Xt={class:"p-5"},Yt={class:"flex items-center"},Zt={class:"ml-5 w-0 flex-1"},te={class:"text-lg font-medium text-gray-900"},ee={class:"bg-white overflow-hidden shadow rounded-lg"},se={class:"p-5"},oe={class:"flex items-center"},ae={class:"ml-5 w-0 flex-1"},re={class:"text-lg font-medium text-gray-900"},ne={class:"bg-white overflow-hidden shadow rounded-lg"},ie={class:"p-5"},le={class:"flex items-center"},de={class:"ml-5 w-0 flex-1"},ce={class:"text-lg font-medium text-gray-900"},ue={class:"bg-white overflow-hidden shadow rounded-lg"},xe={class:"p-5"},me={class:"flex items-center"},pe={class:"ml-5 w-0 flex-1"},ge={class:"text-lg font-medium text-gray-900"},ye={class:"bg-white shadow overflow-hidden sm:rounded-md mb-8"},fe={class:"overflow-x-auto"},he={class:"min-w-full divide-y divide-gray-200"},we={class:"bg-white divide-y divide-gray-200"},ve={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},be={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},$e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},De={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},Se={key:1,class:"text-gray-400"},Ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Me={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Le={class:"flex flex-wrap gap-1"},Pe={class:"bg-white shadow overflow-hidden sm:rounded-md"},Te={class:"overflow-x-auto"},Be={class:"min-w-full divide-y divide-gray-200"},ze={class:"bg-white divide-y divide-gray-200"},Re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},He={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ee={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},We={key:1,class:"text-gray-400"},qe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ge={class:"text-center text-sm text-gray-500 mt-6"},Je={key:2,class:"text-center py-12"},Ke={__name:"RestockSummary",props:{data:{type:Object,default:null},loading:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})}},setup(c){const x=c,g=A(()=>{var m;return(m=x.data)!=null&&m.product_summary?x.data.product_summary.reduce((r,e)=>r+e.total_discarded,0):0}),y=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=m=>new Date(m).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(m,r)=>(d(),l("div",Nt,[c.loading?(d(),l("div",Et,r[0]||(r[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"},null,-1)]))):c.data?(d(),l("div",Wt,[t("div",qt,[t("div",It,[r[3]||(r[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),t("div",Gt,[t("p",Jt,[r[1]||(r[1]=D(" Showing restock activity from ")),t("strong",null,s(y(c.data.date_range.start_date)),1),r[2]||(r[2]=D(" to ")),t("strong",null,s(y(c.data.date_range.end_date)),1),D(" ("+s(c.data.date_range.days)+" days) ",1)])])])]),t("div",Kt,[t("div",Qt,[t("div",Xt,[t("div",Yt,[r[5]||(r[5]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",Zt,[t("dl",null,[r[4]||(r[4]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Products Restocked",-1)),t("dd",te,s(c.data.total_products),1)])])])])]),t("div",ee,[t("div",se,[t("div",oe,[r[7]||(r[7]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",ae,[t("dl",null,[r[6]||(r[6]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Restocks",-1)),t("dd",re,s(c.data.total_restocks),1)])])])])]),t("div",ne,[t("div",ie,[t("div",le,[r[9]||(r[9]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})])])],-1)),t("div",de,[t("dl",null,[r[8]||(r[8]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Units Restocked",-1)),t("dd",ce,s(c.data.total_units_restocked),1)])])])])]),t("div",ue,[t("div",xe,[t("div",me,[r[11]||(r[11]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-red-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])])],-1)),t("div",pe,[t("dl",null,[r[10]||(r[10]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Units Discarded",-1)),t("dd",ge,s(g.value),1)])])])])])]),t("div",ye,[r[13]||(r[13]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Product Restock Summary"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Summary of restock activities by product for the selected time period. ")],-1)),t("div",fe,[t("table",he,[r[12]||(r[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Restocked "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Discarded "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Restock Count "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machines "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Locations ")])],-1)),t("tbody",we,[(d(!0),l(v,null,_(c.data.product_summary,e=>(d(),l("tr",{key:e.product_id,class:"hover:bg-gray-50"},[t("td",ve,s(e.product_name),1),t("td",_e,[t("span",{class:w(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.product_type==="Soda"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"])},s(e.product_type),3)]),t("td",ke,[t("span",be,s(e.total_restocked),1)]),t("td",$e,[e.total_discarded>0?(d(),l("span",De,s(e.total_discarded),1)):(d(),l("span",Se,"0"))]),t("td",Ce,s(e.restock_count),1),t("td",Me,s(e.machines_restocked),1),t("td",je,[t("div",Le,[(d(!0),l(v,null,_(e.locations,n=>(d(),l("span",{key:n,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"},s(n),1))),128))])])]))),128))])])])]),t("div",Pe,[r[15]||(r[15]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Detailed Restock History"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Complete history of all restock activities in the selected time period. ")],-1)),t("div",Te,[t("table",Be,[r[14]||(r[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machine "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Before "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Restocked "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Discarded "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," After "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User ")])],-1)),t("tbody",ze,[(d(!0),l(v,null,_(c.data.restock_details,e=>(d(),l("tr",{key:`${e.machine_id}-${e.product_id}-${e.visit_date}`,class:"hover:bg-gray-50"},[t("td",Re,s(u(e.visit_date)),1),t("td",Ue,s(e.location_name),1),t("td",Ve,s(e.machine_name),1),t("td",Ae,s(e.product_name),1),t("td",Fe,s(e.stock_before),1),t("td",Oe,[t("span",He," +"+s(e.restocked),1)]),t("td",Ne,[e.discarded>0?(d(),l("span",Ee," -"+s(e.discarded),1)):(d(),l("span",We,"0"))]),t("td",qe,s(e.stock_after),1),t("td",Ie,s(e.user),1)]))),128))])])])]),t("div",Ge," Report generated on "+s(u(c.data.generated_at)),1)])):(d(),l("div",Je,r[16]||(r[16]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No restock data available",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Try adjusting your date range or filters to see restock activities.",-1)])))]))}},Qe={class:"space-y-6"},Xe={key:0,class:"flex justify-center py-12"},Ye={key:1},Ze={class:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6"},ts={class:"flex"},es={class:"ml-3"},ss={class:"text-sm text-blue-700"},os={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},as={class:"bg-white overflow-hidden shadow rounded-lg"},rs={class:"p-5"},ns={class:"flex items-center"},is={class:"ml-5 w-0 flex-1"},ls={class:"text-lg font-medium text-gray-900"},ds={class:"bg-white overflow-hidden shadow rounded-lg"},cs={class:"p-5"},us={class:"flex items-center"},xs={class:"ml-5 w-0 flex-1"},ms={class:"text-lg font-medium text-gray-900"},ps={class:"bg-white overflow-hidden shadow rounded-lg"},gs={class:"p-5"},ys={class:"flex items-center"},fs={class:"ml-5 w-0 flex-1"},hs={class:"text-lg font-medium text-gray-900"},ws={class:"bg-white overflow-hidden shadow rounded-lg"},vs={class:"p-5"},_s={class:"flex items-center"},ks={class:"ml-5 w-0 flex-1"},bs={class:"text-lg font-medium text-gray-900"},$s={class:"bg-white shadow overflow-hidden sm:rounded-md mb-8"},Ds={class:"overflow-x-auto"},Ss={class:"min-w-full divide-y divide-gray-200"},Cs={class:"bg-white divide-y divide-gray-200"},Ms={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},js={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ls={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ps={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ts={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Bs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},zs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Rs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Us={class:"flex space-x-1"},Vs={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800"},As={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800"},Fs={class:"bg-white shadow overflow-hidden sm:rounded-md"},Os={class:"overflow-x-auto"},Hs={class:"min-w-full divide-y divide-gray-200"},Ns={class:"bg-white divide-y divide-gray-200"},Es={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ws={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Is={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Gs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Js={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ks={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Qs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Xs={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},Ys={key:1,class:"text-gray-400"},Zs={class:"text-center text-sm text-gray-500 mt-6"},to={key:2,class:"text-center py-12"},eo={__name:"StockCoverageEstimate",props:{data:{type:Object,default:null},loading:{type:Boolean,default:!1}},setup(c){const x=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=(e,n=5)=>e===0?"bg-red-100 text-red-800":e<n?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800",u=e=>e<1?"bg-red-100 text-red-800":e<2?"bg-orange-100 text-orange-800":e<4?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",m=e=>{switch(e){case"critical":return"bg-red-100 text-red-800";case"low":return"bg-orange-100 text-orange-800";case"moderate":return"bg-yellow-100 text-yellow-800";case"good":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},r=e=>{switch(e){case"critical":return"Critical";case"low":return"Low";case"moderate":return"Moderate";case"good":return"Good";default:return"Unknown"}};return(e,n)=>(d(),l("div",Qe,[c.loading?(d(),l("div",Xe,n[0]||(n[0]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"},null,-1)]))):c.data?(d(),l("div",Ye,[t("div",Ze,[t("div",ts,[n[3]||(n[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),t("div",es,[t("p",ss,[n[1]||(n[1]=D(" Analysis based on consumption patterns from ")),t("strong",null,s(x(c.data.analysis_period.start_date)),1),n[2]||(n[2]=D(" to ")),t("strong",null,s(x(c.data.analysis_period.end_date)),1),D(" ("+s(c.data.analysis_period.days)+" days) ",1)])])])]),t("div",os,[t("div",as,[t("div",rs,[t("div",ns,[n[5]||(n[5]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",is,[t("dl",null,[n[4]||(n[4]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Products Analyzed",-1)),t("dd",ls,s(c.data.summary_stats.total_products),1)])])])])]),t("div",ds,[t("div",cs,[t("div",us,[n[7]||(n[7]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-red-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),t("div",xs,[t("dl",null,[n[6]||(n[6]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Critical Stock",-1)),t("dd",ms,s(c.data.summary_stats.critical_count),1)])])])])]),t("div",ps,[t("div",gs,[t("div",ys,[n[9]||(n[9]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-orange-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",fs,[t("dl",null,[n[8]||(n[8]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Low Stock",-1)),t("dd",hs,s(c.data.summary_stats.low_count),1)])])])])]),t("div",ws,[t("div",vs,[t("div",_s,[n[11]||(n[11]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",ks,[t("dl",null,[n[10]||(n[10]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Restock Recommended",-1)),t("dd",bs,s(c.data.summary_stats.restock_recommended),1)])])])])])]),t("div",$s,[n[13]||(n[13]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Product Coverage Summary"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Stock coverage estimates by product based on historical consumption patterns. ")],-1)),t("div",Ds,[t("table",Ss,[n[12]||(n[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machine Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Warehouse Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Weekly Consumption "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Avg Weeks Remaining "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machines "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Alerts ")])],-1)),t("tbody",Cs,[(d(!0),l(v,null,_(c.data.product_summary,o=>(d(),l("tr",{key:o.product_id,class:"hover:bg-gray-50"},[t("td",Ms,s(o.product_name),1),t("td",js,[t("span",{class:w(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o.product_type==="Soda"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"])},s(o.product_type),3)]),t("td",Ls,s(o.total_machine_stock),1),t("td",Ps,s(o.warehouse_quantity),1),t("td",Ts,s(o.total_weekly_consumption.toFixed(1)),1),t("td",Bs,[t("span",{class:w([u(o.avg_weeks_remaining),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(o.avg_weeks_remaining)+" weeks ",3)]),t("td",zs,s(o.machine_count),1),t("td",Rs,[t("div",Us,[o.critical_machines>0?(d(),l("span",Vs,s(o.critical_machines)+" Critical ",1)):V("",!0),o.low_machines>0?(d(),l("span",As,s(o.low_machines)+" Low ",1)):V("",!0)])])]))),128))])])])]),t("div",Fs,[n[15]||(n[15]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Machine Coverage Details"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Detailed stock coverage estimates for each product in each machine. ")],-1)),t("div",Os,[t("table",Hs,[n[14]||(n[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Location "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Machine "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Current Stock "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Weekly Consumption "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Weeks Remaining "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Action ")])],-1)),t("tbody",Ns,[(d(!0),l(v,null,_(c.data.machine_estimates,o=>(d(),l("tr",{key:`${o.machine_id}-${o.product_id}`,class:w(o.status==="critical"?"bg-red-50":o.status==="low"?"bg-orange-50":"hover:bg-gray-50")},[t("td",Es,s(o.location_name),1),t("td",Ws,s(o.machine_name),1),t("td",qs,s(o.product_name),1),t("td",Is,[t("span",{class:w([y(o.current_stock),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(o.current_stock),3)]),t("td",Gs,s(o.weekly_consumption),1),t("td",Js,[t("span",{class:w([u(o.weeks_remaining),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(o.weeks_remaining)+" weeks ",3)]),t("td",Ks,[t("span",{class:w([m(o.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},s(r(o.status)),3)]),t("td",Qs,[o.restock_recommended?(d(),l("span",Xs," Restock Soon ")):(d(),l("span",Ys,"No action needed"))])],2))),128))])])])]),t("div",Zs," Report generated on "+s(g(c.data.generated_at)),1)])):(d(),l("div",to,n[16]||(n[16]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No coverage data available",-1),t("p",{class:"mt-1 text-sm text-gray-500"}," Try adjusting your analysis period or ensure there is sufficient historical restock data. ",-1)])))]))}},so={key:0,class:"flex justify-center py-20"},oo={key:1,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm"},ao={class:"flex"},ro={class:"ml-3"},no={class:"text-sm text-red-700"},io={key:2},lo={class:"mb-6"},co={class:"border-b border-gray-200"},uo={class:"-mb-px flex space-x-8","aria-label":"Tabs"},xo=["onClick"],fo={__name:"Inventory",setup(c){const x=h("current-stock"),g=[{id:"current-stock",name:"Current Stock"},{id:"restock-summary",name:"Restock Summary"},{id:"stock-coverage",name:"Stock Coverage"}],{loading:y,error:u,locations:m,products:r,filters:e,currentStockData:n,currentStockLoading:o,restockSummaryData:a,restockSummaryLoading:p,stockCoverageData:B,stockCoverageLoading:z,applyFilters:S,initialize:C}=q(),M=R=>{Object.assign(e.value,R)};return W(()=>{C()}),(R,b)=>(d(),l("div",null,[b[2]||(b[2]=t("h1",{class:"text-2xl font-semibold text-gray-900 mb-6"},"Inventory Reports",-1)),f(y)?(d(),l("div",so,b[0]||(b[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"},null,-1)]))):f(u)?(d(),l("div",oo,[t("div",ao,[b[1]||(b[1]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),t("div",ro,[t("p",no,s(f(u)),1)])])])):(d(),l("div",io,[T(X,{filters:f(e),locations:f(m),products:f(r),onApplyFilters:f(S),onUpdateFilters:M},null,8,["filters","locations","products","onApplyFilters"]),t("div",lo,[t("div",co,[t("nav",uo,[(d(),l(v,null,_(g,j=>t("button",{key:j.id,onClick:N=>x.value=j.id,class:w([x.value===j.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},s(j.name),11,xo)),64))])])]),k(T(Ht,{data:f(n),loading:f(o)},null,8,["data","loading"]),[[U,x.value==="current-stock"]]),k(T(Ke,{data:f(a),loading:f(p),filters:f(e)},null,8,["data","loading","filters"]),[[U,x.value==="restock-summary"]]),k(T(eo,{data:f(B),loading:f(z)},null,8,["data","loading"]),[[U,x.value==="stock-coverage"]])]))]))}};export{fo as default};
